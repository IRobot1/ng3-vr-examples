<ngt-color attach="background" color="darkgray"></ngt-color>

<line-room></line-room>

<ngt-ambient-light></ngt-ambient-light>

<flat-ui-drag-panel [title]="'Controls Panel'" [width]="2" [height]="1.5" [panelcolor]="panelcolor" [position]="[-1.6, 1, -2.001]" [rotation]="[0, 30 | radian, 0]" [selectable]="selectable">
  <ng-template let-parent="parent">
    <ngt-group [appendTo]="parent" [position]="[-0.95, 0.7, 0.002]">

      <ngt-group [position]="[0.3, -0.01, 0]">
        <flat-ui-label [text]="'radio'" [width]="0.6"></flat-ui-label>
        <flat-ui-radio-button [position]="[0.5, 0, 0]" [checked]="checked" [selectable]="selectable" (change)="changed($event)"></flat-ui-radio-button>
        <flat-ui-radio-button [position]="[0.65, 0, 0]" [checked]="checked" [selectable]="selectable" [enabled]="false" (change)="changed($event)" [segments]="8" [rotation]="[0, 0, 22.5 |radian]"></flat-ui-radio-button>
      </ngt-group>

      <ngt-group [position]="[0.3, -0.11, 0]">
        <flat-ui-label [text]="'slider'" [width]="0.6"></flat-ui-label>
        <flat-ui-input-number #num2 [position]="[0.5, 0, 0]" [min]="-10" [max]="10" [text]="slidertext" [width]="0.4" [selectable]="selectable" (openinput)="opennumpad($event, num2)" (change)="slidervalue=$event"></flat-ui-input-number>
        <flat-ui-input-slider [position]="[1, 0, 0]" [min]="-10" [max]="10" [width]="0.4" [value]="slidervalue" [selectable]="selectable" (change)="slidervalue=$event"></flat-ui-input-slider>
      </ngt-group>

      <ngt-group [position]="[0.3, -0.33, 0]">
        <flat-ui-label [text]="'string'" [width]="0.6"></flat-ui-label>
        <flat-ui-input-text #tinput [position]="[0.5, 0, 0]" [text]="textvalue" [width]="0.4" [selectable]="selectable" (openinput)="openkeyboard($event, tinput)"></flat-ui-input-text>
      </ngt-group>

      <ngt-group [position]="[0.3, -0.44, 0]">
        <flat-ui-label [text]="'panel color'" [width]="0.6"></flat-ui-label>
        <flat-ui-input-color #color [position]="[0.5, 0, 0]" [value]="panelcolor" [selectable]="selectable" (openinput)="opencolor($event, color)"></flat-ui-input-color>
        <flat-ui-input-text #tinput2 [position]="[1, 0, 0]" [text]="panelcolor" [overflow]="7" [width]="0.5" [enabled]="false" (openinput)="openkeyboard($event, tinput2)"></flat-ui-input-text>
      </ngt-group>


      <ngt-group [position]="[0.3, -0.55, 0]">
        <flat-ui-label [text]="'number'" [width]="0.6"></flat-ui-label>
        <flat-ui-input-number #num1 [position]="[0.5, 0, 0]" [text]="numbertext" [width]="0.4" [selectable]="selectable" (openinput)="opennumpad($event, num1)" (change)="numbervalue=$event"></flat-ui-input-number>
      </ngt-group>

      <ngt-group [position]="[0.3, -0.88, 0]">
        <flat-ui-button [position]="[0.1, 0, 0]" [text]="'Enabled Button'" [width]="0.8" [selectable]="selectable" (pressed)="button($event)"></flat-ui-button>
        <flat-ui-button [position]="[1, 0, 0]" [text]="'Disabled Button'" [enabled]="false" [width]="0.8"></flat-ui-button>
      </ngt-group>

      <ngt-group [position]="[0.3, -0.99, 0]">
        <flat-ui-label [text]="'options'" [width]="0.6"></flat-ui-label>
        <flat-ui-select #list1 [position]="[0.85, 0, 0]" [width]="1" [selectable]="selectable" (openinput)="openlist($event, list1)" [text]="selectedtext"></flat-ui-select>
      </ngt-group>

    </ngt-group>
  </ng-template>
</flat-ui-drag-panel>

<flat-ui-drag-panel [title]="'Draggable Panel'" [expanded]="true" [panelcolor]="panelcolor" [position]="[0, 1.25, -2.5]" [selectable]="selectable">
  <ng-template let-parent="parent">
    <ngt-group [appendTo]="parent" [position]="[-0.5, 0.4, 0.002]">

      <ngt-group [position]="[0.3, 0, 0]">
        <flat-ui-label [text]="'icon button'" [width]="0.5"></flat-ui-label>
        <flat-ui-icon-button [position]="[0.4, 0, 0]" [svg]="svg" [enabled]="false" (pressed)="clicked($event)" [selectable]="selectable"></flat-ui-icon-button>
        <flat-ui-icon-button [position]="[0.55, 0, 0]" [url]="'assets/webgl.svg'" [iconcolor]="'#990000'" [selectable]="selectable" (pressed)="clicked($event)"></flat-ui-icon-button>
      </ngt-group>

      <ngt-group [position]="[0.3, -0.11, 0]">
        <flat-ui-label [text]="'boolean'" [width]="0.5"></flat-ui-label>
        <flat-ui-input-checkbox [position]="[0.4, 0, 0]" [checked]="checked" [selectable]="selectable" (change)="changed($event)"></flat-ui-input-checkbox>
        <flat-ui-input-toggle [position]="[0.55, 0, 0]" [checked]="checked" [selectable]="selectable" (change)="changed($event)"></flat-ui-input-toggle>
      </ngt-group>

      <ngt-group [position]="[0.3, -0.22, 0]">
        <flat-ui-label [text]="'progress bar'" [width]="0.5"></flat-ui-label>
        <flat-ui-progress-bar [position]="[0.2, -0.11, 0]" [value]="slidervalue" [width]="0.98"></flat-ui-progress-bar>
      </ngt-group>

    </ngt-group>
  </ng-template>
</flat-ui-drag-panel>

<flat-ui-drag-panel [title]="'Image Panel'" [expanded]="true"  [width]="2" [height]="1.5" [panelcolor]="panelcolor" [position]="[1.6, 1, -2.001]" [rotation]="[0, -30 | radian, 0]" [selectable]="selectable">
  <ng-template let-parent="parent">
    <ngt-group [appendTo]="parent" [position]="[0, 0, 0.002]">
      <ngt-mesh>
        <ngt-plane-geometry [args]="[1.95, 1.45]"></ngt-plane-geometry>
        <ngt-mesh-standard-material [map]="texture"></ngt-mesh-standard-material>
      </ngt-mesh>
    </ngt-group>
  </ng-template>
</flat-ui-drag-panel>


<flat-ui-list *ngIf="showlist" [list]="list" [width]="1.5" [height]="1.2" [selectedtext]="selectedtext"
              [position]="listposition" [rotation]="listrotation" [selectable]="selectable"
              (change)="listitem($event)" (close)="showlist=false;changeinput()">
</flat-ui-list>

<flat-ui-color-picker *ngIf="showpicker" [colorvalue]="colorvalue"
                      [position]="colorposition" [rotation]="colorrotation" [selectable]="selectable"
                      (colorpicked)="colorpicked($event)" (close)="showpicker=false;changeinput()">
</flat-ui-color-picker>

<flat-ui-keyboard *ngIf="showkeyboard" [text]="textvalue"
                  [position]="keyboardposition" [rotation]="keyboardrotation" [selectable]="selectable"
                  (pressed)="pressed($event)" (close)="showkeyboard=false;changeinput()">
</flat-ui-keyboard>

<flat-ui-numpad *ngIf="shownumpad" [text]="textvalue"
                [position]="numpadposition" [rotation]="numpadrotation" [selectable]="selectable"
                (pressed)="pressed($event)" (close)="shownumpad=false;changeinput()">
</flat-ui-numpad>


<!--<mouse-touch-input [intersectObjects]="selectable"></mouse-touch-input>-->

<vr-controller guipointer showcontroller trackedpointer navhome [guis]="selectable.list"></vr-controller>
<vr-controller [index]="1" navhome></vr-controller>

<ngt-soba-orbit-controls [enableRotate]="false"></ngt-soba-orbit-controls>
